package br.com.fiap.jpa.teste;

import javax.persistence.EntityManager;
import javax.persistence.EntityManagerFactory;

import br.com.fiap.dao.PagamentoDAO;
import br.com.fiap.dao.impl.PagamentoDAOImpl;
import br.com.fiap.jpa.exception.CommitException;
import br.com.fiap.jpa.exception.RegistroNaoEncontradoException;
import br.com.fiap.jpa.singleton.EntityManagerFactorySingleton;

public class Apaga {

	public static void main(String[] args) {
		EntityManagerFactory fabrica = EntityManagerFactorySingleton.getInstance();

		EntityManager em = fabrica.createEntityManager();
		
		PagamentoDAO dao = new PagamentoDAOImpl(em);
		
		//Apagar
				try {
					dao.excluir(10);
					dao.commit();
					System.out.println("Apagado com sucesso");
				} catch (RegistroNaoEncontradoException e) {
					System.err.println("Registro nao encontrado");
				}catch(CommitException e) {
					e.printStackTrace();
				}
				
				em.close();
				fabrica.close();
				

	}

}
